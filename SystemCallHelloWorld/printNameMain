# Program Name: printNameMain
# Author: Ashmeik Ashmeik
# Date: 3/20/2025
# Purpose: To read and display a string
# Input
# - input: Username
# Output
# - format: Prints the greeting string

.text
.global main
main:
	// Save return to OS on stack
	SUB sp, sp, #4
	STB lr, [sp, #0]

	// Prompt the user for an input
	LDR r0, =prompt		// load the address of prompt into r0
	BL printf		// call printf

	// Read user input using scanf
	LDR r0, =input		// set r0 to the address of input (format string)
	LDR r1, =name		// set r1 to for address of name()
				// where we're going to store the input
	BL scanf		// call scanf 

	// Print the greeting message
	LDR r0, =format		// set r0 to the address of the format string
	LDR r1, =name		// set r1 to the address of name
	BL printf		// call printf
	


	// Restore the stack and return to OS
	LDR lr, [sp, #0]
	ADD sp, sp, #4
	MOV pc, lr

.data
prompt: .asciz "Enter your name: "	// prompt message
input:  .asciz "$s"			// format string
format: .asciz "Hello %s, how are you today?" // Greeting message with insertion
name:   .space 40			// reserves 40 bytes of memory 
